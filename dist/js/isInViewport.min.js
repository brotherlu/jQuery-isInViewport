!function(e,s){function i(i){var t=e(i).offset().top,a=t+e(i).height(),h=e(s).scrollTop(),n=h+e(s).height(),o=n-t>=0?n-t:0,c=a-h>=0?a-h:0,r=Math.min(e(i).height(),o,c)/e(s).height(),f=Math.min(e(i).height(),o,c)/e(i).height();return{isVisible:n>t&&a>=h,percentageOfViewport:r,percentageOfElement:f}}e.fn.isInViewport=function(s,t,a){t=t||function(){},a=a||function(){};var h={className:"isVisible",focusName:"isFocus"};e.extend(h,s);var n=0;return this.each(function(){i(this).isVisible?(e(this).addClass(h.className),i(this).percentageOfViewport>n&&(n=i(this).percentageOfViewport,e("."+h.focusName).removeClass(h.focusName),e(this).addClass(h.focusName)),t(this)):!i(this).isVisible&&e(this).hasClass(h.className)&&(e(this).removeClass(h.className).removeClass(h.focusName),a(this))})}}(jQuery,window);
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImlzSW5WaWV3cG9ydC5qcyJdLCJuYW1lcyI6WyIkIiwid2luZG93IiwiaXNJblZpZXdwb3J0IiwiZWxlbSIsImVsZW1Ub3AiLCJvZmZzZXQiLCJ0b3AiLCJlbGVtQm90dG9tIiwiaGVpZ2h0Iiwidmlld3BvcnRUb3AiLCJzY3JvbGxUb3AiLCJ2aWV3cG9ydEJvdHRvbSIsInRvcERpc3RhbmNlIiwiYm90dG9tRGlzdGFuY2UiLCJwZXJjZW50YWdlT2ZWaWV3cG9ydCIsIk1hdGgiLCJtaW4iLCJwZXJjZW50YWdlT2ZFbGVtZW50IiwiaXNWaXNpYmxlIiwiZm4iLCJvcHRpb25zIiwiY2FsbGJhY2siLCJleGl0Q2FsbGJhY2siLCJzZXR0aW5ncyIsImNsYXNzTmFtZSIsImZvY3VzTmFtZSIsImV4dGVuZCIsIm1heFBlcmNlbnQiLCJ0aGlzIiwiZWFjaCIsImFkZENsYXNzIiwicmVtb3ZlQ2xhc3MiLCJoYXNDbGFzcyIsImpRdWVyeSJdLCJtYXBwaW5ncyI6IkNBQUEsU0FBQUEsRUFBQUMsR0FFQSxRQUFBQyxHQUFBQyxHQUNBLEdBQUFDLEdBQUFKLEVBQUFHLEdBQUFFLFNBQUFDLElBQ0FDLEVBQUFILEVBQUFKLEVBQUFHLEdBQUFLLFNBQ0FDLEVBQUFULEVBQUFDLEdBQUFTLFlBQ0FDLEVBQUFGLEVBQUFULEVBQUFDLEdBQUFPLFNBQ0FJLEVBQUFELEVBQUFQLEdBQUEsRUFBQU8sRUFBQVAsRUFBQSxFQUNBUyxFQUFBTixFQUFBRSxHQUFBLEVBQUFGLEVBQUFFLEVBQUEsRUFDQUssRUFBQUMsS0FBQUMsSUFBQWhCLEVBQUFHLEdBQUFLLFNBQUFJLEVBQUFDLEdBQUFiLEVBQUFDLEdBQUFPLFNBQ0FTLEVBQUFGLEtBQUFDLElBQUFoQixFQUFBRyxHQUFBSyxTQUFBSSxFQUFBQyxHQUFBYixFQUFBRyxHQUFBSyxRQUVBLFFBQ0FVLFVBQUFQLEVBQUFQLEdBQUFHLEdBQUFFLEVBQ0FLLHFCQUFBQSxFQUNBRyxvQkFBQUEsR0FJQWpCLEVBQUFtQixHQUFBakIsYUFBQSxTQUFBa0IsRUFBQUMsRUFBQUMsR0FJQUQsRUFBQUEsR0FBQSxhQUNBQyxFQUFBQSxHQUFBLFlBR0EsSUFBQUMsSUFDQUMsVUFBQSxZQUNBQyxVQUFBLFVBSUF6QixHQUFBMEIsT0FBQUgsRUFBQUgsRUFHQSxJQUFBTyxHQUFBLENBRUEsT0FBQUMsTUFBQUMsS0FBQSxXQUVBM0IsRUFBQTBCLE1BQUFWLFdBR0FsQixFQUFBNEIsTUFBQUUsU0FBQVAsRUFBQUMsV0FHQXRCLEVBQUEwQixNQUFBZCxxQkFBQWEsSUFHQUEsRUFBQXpCLEVBQUEwQixNQUFBZCxxQkFFQWQsRUFBQSxJQUFBdUIsRUFBQUUsV0FBQU0sWUFBQVIsRUFBQUUsV0FFQXpCLEVBQUE0QixNQUFBRSxTQUFBUCxFQUFBRSxZQUdBSixFQUFBTyxRQUdBMUIsRUFBQTBCLE1BQUFWLFdBQUFsQixFQUFBNEIsTUFBQUksU0FBQVQsRUFBQUMsYUFFQXhCLEVBQUE0QixNQUFBRyxZQUFBUixFQUFBQyxXQUFBTyxZQUFBUixFQUFBRSxXQUVBSCxFQUFBTSxXQU1BSyxPQUFBaEMiLCJmaWxlIjoiaXNJblZpZXdwb3J0Lm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbigkLCB3aW5kb3cpe1xuXG4gIGZ1bmN0aW9uIGlzSW5WaWV3cG9ydChlbGVtKXtcbiAgICB2YXIgZWxlbVRvcCA9ICQoZWxlbSkub2Zmc2V0KCkudG9wLFxuICAgICAgICBlbGVtQm90dG9tID0gZWxlbVRvcCArICQoZWxlbSkuaGVpZ2h0KCksXG4gICAgICAgIHZpZXdwb3J0VG9wID0gJCh3aW5kb3cpLnNjcm9sbFRvcCgpLFxuICAgICAgICB2aWV3cG9ydEJvdHRvbSA9IHZpZXdwb3J0VG9wICsgJCh3aW5kb3cpLmhlaWdodCgpLFxuICAgICAgICB0b3BEaXN0YW5jZSA9ICgodmlld3BvcnRCb3R0b20gLSBlbGVtVG9wKSA+PSAwKSA/IHZpZXdwb3J0Qm90dG9tIC0gZWxlbVRvcCA6IDAsXG4gICAgICAgIGJvdHRvbURpc3RhbmNlID0gKChlbGVtQm90dG9tIC0gdmlld3BvcnRUb3ApID49IDApID8gZWxlbUJvdHRvbSAtIHZpZXdwb3J0VG9wIDogMCxcbiAgICAgICAgcGVyY2VudGFnZU9mVmlld3BvcnQgPSAoTWF0aC5taW4oJChlbGVtKS5oZWlnaHQoKSx0b3BEaXN0YW5jZSwgYm90dG9tRGlzdGFuY2UgKSkvJCh3aW5kb3cpLmhlaWdodCgpLFxuICAgICAgICBwZXJjZW50YWdlT2ZFbGVtZW50ID0gKE1hdGgubWluKCQoZWxlbSkuaGVpZ2h0KCksdG9wRGlzdGFuY2UsIGJvdHRvbURpc3RhbmNlICkpLyQoZWxlbSkuaGVpZ2h0KCk7XG5cbiAgICByZXR1cm4ge1xuICAgICAgaXNWaXNpYmxlOiAoZWxlbVRvcCA8IHZpZXdwb3J0Qm90dG9tICYmIGVsZW1Cb3R0b20gPj0gdmlld3BvcnRUb3ApLFxuICAgICAgcGVyY2VudGFnZU9mVmlld3BvcnQ6IHBlcmNlbnRhZ2VPZlZpZXdwb3J0LFxuICAgICAgcGVyY2VudGFnZU9mRWxlbWVudDogcGVyY2VudGFnZU9mRWxlbWVudFxuICAgIH07XG4gIH1cblxuICAkLmZuLmlzSW5WaWV3cG9ydCA9IGZ1bmN0aW9uKG9wdGlvbnMsY2FsbGJhY2ssZXhpdENhbGxiYWNrKXtcblxuICAgIC8vIHByZXZlbnQgYW55IGVycm9ycyBieSBkZWZpbmluZyBhIGRlZmF1bHQgdmFsdWVcbiAgICAvLyBub3QgY2xhc3N5IGJ1dCBkb2VzIHRoZSBqb2JcbiAgICBjYWxsYmFjayA9IGNhbGxiYWNrIHx8IGZ1bmN0aW9uKGVsKXt9O1xuICAgIGV4aXRDYWxsYmFjayA9IGV4aXRDYWxsYmFjayB8fCBmdW5jdGlvbihlbCl7fTtcblxuICAgIC8vIGRlZmF1bHQgc2V0dGluZ3NcbiAgICB2YXIgc2V0dGluZ3MgPSB7XG4gICAgICBjbGFzc05hbWU6ICdpc1Zpc2libGUnLFxuICAgICAgZm9jdXNOYW1lOiAnaXNGb2N1cydcbiAgICB9O1xuXG4gICAgLy8gRXh0ZW5kIHRoZSBzZXR0aW5ncyB3aXRoIHRoZSBpbnB1dHRlZCBvcHRpb25zXG4gICAgJC5leHRlbmQoc2V0dGluZ3MsIG9wdGlvbnMpO1xuICAgIFxuICAgIC8vXG4gICAgdmFyIG1heFBlcmNlbnQgPSAwO1xuXG4gICAgcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpe1xuICAgICAgLy8gQ2hlY2sgZm9yIHZpc2libGUgZWxlbWVudHNcbiAgICAgIGlmKGlzSW5WaWV3cG9ydCh0aGlzKS5pc1Zpc2libGUpe1xuICAgICAgICBcbiAgICAgICAgLy8gQWRkIENsYXNzTmFtZVxuICAgICAgICAkKHRoaXMpLmFkZENsYXNzKHNldHRpbmdzLmNsYXNzTmFtZSk7XG5cbiAgICAgICAgLy8gQ2hlY2sgaWYgdGhlIGVsZW1lbnQgaXMgdGhlIG1vc3QgdmlzaWJsZSBlbGVtZW50XG4gICAgICAgIGlmKGlzSW5WaWV3cG9ydCh0aGlzKS5wZXJjZW50YWdlT2ZWaWV3cG9ydCA+IG1heFBlcmNlbnQpe1xuICAgICAgICAgIFxuICAgICAgICAgIC8vIFN0b3JlIHRoZSBuZXcgbWF4IHZpZXcgcGVyY2VudGFnZVxuICAgICAgICAgIG1heFBlcmNlbnQgPSBpc0luVmlld3BvcnQodGhpcykucGVyY2VudGFnZU9mVmlld3BvcnQ7XG4gICAgICAgICAgLy8gQ2xlYXIgb2xkIGZvY3VzIGVsZW1lbnRcbiAgICAgICAgICAkKCcuJytzZXR0aW5ncy5mb2N1c05hbWUpLnJlbW92ZUNsYXNzKHNldHRpbmdzLmZvY3VzTmFtZSk7XG4gICAgICAgICAgLy8gQWRkIE5ldyBmb2N1cyBlbGVtZW50IGNsYXNzXG4gICAgICAgICAgJCh0aGlzKS5hZGRDbGFzcyhzZXR0aW5ncy5mb2N1c05hbWUpO1xuICAgICAgICB9XG4gICAgICAgIC8vIEV4ZWN1dGUgdGhlIGNhbGxiYWNrXG4gICAgICAgIGNhbGxiYWNrKHRoaXMpO1xuXG4gICAgICAgIC8vIENsZWFudXAgYWxsIG5vbiB2aXNpYmxlIGVsZW1lbnRzXG4gICAgICB9IGVsc2UgaWYgKCFpc0luVmlld3BvcnQodGhpcykuaXNWaXNpYmxlICYmICQodGhpcykuaGFzQ2xhc3Moc2V0dGluZ3MuY2xhc3NOYW1lKSl7XG4gICAgICAgIC8vIFJlbW92ZSBhbGwgY2xhc3NlcyBmcm9tIHRoZSBlbGVtZW50c1xuICAgICAgICAkKHRoaXMpLnJlbW92ZUNsYXNzKHNldHRpbmdzLmNsYXNzTmFtZSkucmVtb3ZlQ2xhc3Moc2V0dGluZ3MuZm9jdXNOYW1lKTtcbiAgICAgICAgLy8gRXhlY3V0ZSB0aGUgZGlzYXBwZWFyIGNhbGxiYWNrXG4gICAgICAgIGV4aXRDYWxsYmFjayh0aGlzKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICB9O1xuXG59KGpRdWVyeSwgd2luZG93KSk7XG4iXSwic291cmNlUm9vdCI6Ii9zb3VyY2UvIn0=